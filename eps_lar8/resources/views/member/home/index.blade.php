<!DOCTYPE html>
<html lang="id">

@include('member.asset.header')

<body>

    @include('member.asset.navbar')

    <!-- Main Content -->
    <main>
        <!-- Banner Section -->
        <section class="banner-section">
            <!-- Banner besar -->
            <div class="banner-carousel">
                <div class="banner-item">
                    <img src="https://via.placeholder.com/800x400" alt="Banner Besar 1">
                </div>
                <div class="banner-item">
                    <img src="https://via.placeholder.com/800x400" alt="Banner Besar 2">
                </div>
                <div class="banner-item">
                    <img src="https://via.placeholder.com/800x400" alt="Banner Besar 3">
                </div>
            </div>

            <!-- Banner kecil -->
            <div class="banner-small">
                <img src="https://via.placeholder.com/400x200" alt="Banner Kecil">
                <img src="https://via.placeholder.com/400x200" alt="Banner Kecil">
            </div>
        </section>

        <!-- Kategori -->
        <section class="categories">
            <h2>Kategori</h2>
            <div class="category-carousel">
                <div class="category-item">
                    <img src="https://via.placeholder.com/50x50" alt="Elektronik">
                    <p>Elektronik</p>
                </div>
                <div class="category-item">
                    <img src="https://via.placeholder.com/50x50" alt="Fashion">
                    <p>Fashion</p>
                </div>
                <div class="category-item">
                    <img src="https://via.placeholder.com/50x50" alt="Kesehatan">
                    <p>Kesehatan</p>
                </div>
                <div class="category-item">
                    <img src="https://via.placeholder.com/50x50" alt="Otomotif">
                    <p>Otomotif</p>
                </div>
                <div class="category-item">
                    <img src="https://via.placeholder.com/50x50" alt="Rumah Tangga">
                    <p>Rumah Tangga</p>
                </div>
                <div class="category-item">
                    <img src="https://via.placeholder.com/50x50" alt="Olahraga">
                    <p>Olahraga</p>
                </div>
                <div class="category-item">
                    <img src="https://via.placeholder.com/50x50" alt="Mainan">
                    <p>Mainan</p>
                </div>
                <div class="category-item">
                    <img src="https://via.placeholder.com/50x50" alt="Mainan">
                    <p>Makanan</p>
                </div>
                <div class="category-item">
                    <img src="https://via.placeholder.com/50x50" alt="Mainan">
                    <p>Tiket</p>
                </div>
                <div class="category-item">
                    <img src="https://via.placeholder.com/50x50" alt="Mainan">
                    <p>Transportasi</p>
                </div>
                <!-- Tambahkan kategori lain -->
            </div>
        </section>

        <!-- Promo -->
        <section class="promos">
            <h2>Promo</h2>
            <div class="promo-grid">
                <div class="promo-item">
                    <p>Promo 1</p>
                    <img src="https://via.placeholder.com/50x50" alt="Promo 1">
                </div>
                <div class="promo-item">
                    <p>Promo 1</p>
                    <img src="https://via.placeholder.com/50x50" alt="Promo 1">
                </div>
                <div class="promo-item">
                    <p>Promo 1</p>
                    <img src="https://via.placeholder.com/50x50" alt="Promo 1">
                </div>
                <div class="promo-item">
                    <p>Promo 1</p>
                    <img src="https://via.placeholder.com/50x50" alt="Promo 1">
                </div>
                <div class="promo-item">
                    <p>Promo 1</p>
                    <img src="https://via.placeholder.com/50x50" alt="Promo 1">
                </div>
                <div class="promo-item">
                    <p>Promo 1</p>
                    <img src="https://via.placeholder.com/50x50" alt="Promo 1">
                </div>
                <div class="promo-item">
                    <p>Promo 1</p>
                    <img src="https://via.placeholder.com/50x50" alt="Promo 1">
                </div>
                <div class="promo-item">
                    <p>Promo 1</p>
                    <img src="https://via.placeholder.com/50x50" alt="Promo 1">
                </div>
                <div class="promo-item">
                    <p>Promo 1</p>
                    <img src="https://via.placeholder.com/50x50" alt="Promo 1">
                </div>
                <div class="promo-item">
                    <p>Promo 1</p>
                    <img src="https://via.placeholder.com/50x50" alt="Promo 1">
                </div>
                <div class="promo-item">
                    <p>Promo 1</p>
                    <img src="https://via.placeholder.com/50x50" alt="Promo 1">
                </div>
                <div class="promo-item">
                    <p>Promo 1</p>
                    <img src="https://via.placeholder.com/50x50" alt="Promo 1">
                </div>
                <div class="promo-item">
                    <p>Promo 1</p>
                    <img src="https://via.placeholder.com/50x50" alt="Promo 1">
                </div>
                <div class="promo-item">
                    <p>Promo 1</p>
                    <img src="https://via.placeholder.com/50x50" alt="Promo 1">
                </div>
                <!-- Tambahkan promo lain -->
            </div>
        </section>

        <!-- Flash Sale -->
        <section class="flash-sale">
            <p>Flash Sale</p>
            <div class="flash-sale-countdown">
                <span id="countdown-hours">00</span>:
                <span id="countdown-minutes">00</span>:
                <span id="countdown-seconds">00</span>
            </div>
        </section>


        <!-- Pencarian Terpopuler -->
        <section class="popular-searches">
            <h2>Pencarian Terpopuler</h2>
            <div class="searches-grid">
                <!-- Item pencarian terpopuler -->
                <div class="search-item">
                    <p>Pencarian 1</p>
                    <img src="https://via.placeholder.com/50x50">
                </div>
                <div class="search-item">
                    <p>Pencarian 1</p>
                    <img src="https://via.placeholder.com/50x50">
                </div>
                <div class="search-item">
                    <p>Pencarian 1</p>
                    <img src="https://via.placeholder.com/50x50">
                </div>
                <div class="search-item">
                    <p>Pencarian 1</p>
                    <img src="https://via.placeholder.com/50x50">
                </div>
                <!-- Tambahkan item pencarian terpopuler lainnya -->
            </div>
        </section>

        <!-- Produk Populer -->
        <section class="products">
            <h2>Produk</h2>
            <div class="product-grid" id="productGrid">
                @include('member.home.product-list', ['products' => $products])
            </div>
            <div class="loading" style="display: none;">
                <p>Loading...</p>
            </div>
        </section>
    </main>

    @include('member.asset.footer')

    <script src="{{ asset('/js/function/member/home.js') }}" type="text/javascript"></script>
    <script>
        let page = 1;

        function loadMoreProducts(page) {
            $.ajax({
                url: "{{ route('products.get') }}?page=" + page,
                type: "get",
                beforeSend: function () {
                    $('.loading').show();
                }
            })
            .done(function (data) {
                if (data.length === 0) {
                    $('.loading').html("<p>No more products to load</p>");
                    return;
                }
                $('.loading').hide();
                $('#productGrid').append(data);
            })
            .fail(function (jqXHR, ajaxOptions, thrownError) {
                alert('Server error occurred');
            });
        }

        $(window).scroll(function() {
            if ($(window).scrollTop() + $(window).height() >= $(document).height() - 100) {
                page++;
                loadMoreProducts(page);
            }
        });
    </script>
</body>

</html>
